!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("dear-image.detect-color-scheme"),require("dear-image")):"function"==typeof define&&define.amd?define(["dear-image.detect-color-scheme","dear-image"],t):t(null,(e=e||self).DearImage)}(this,(function(e,t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;t.detectBackgroundColor=function(e){var t=this;return this.loadFromExcept(e).then((function(e){for(var r=(e=e.scaleDownIn(256,256)).sizeX,n=e.sizeY,o=(e=e.toImageData()).data,a=r-8,i=n-8,c=8;c<a;c++)for(var d=8;d<i;d++){o[4*c+d*(4*r)+3]=0}return t.detectColorScheme(e).then((function(e){return e.length?e[0][0]:null}))}))}}));
